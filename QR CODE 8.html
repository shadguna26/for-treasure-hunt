<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cipher Chase - Problem No. 8</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&family=Rubik:wght@400;700&display=swap" rel="stylesheet">
<style>
body { margin:0; padding:0; font-family:'Rubik', sans-serif; background: linear-gradient(135deg, #6a11cb, #2575fc); color:#fff; min-height:100vh; display:flex; justify-content:center; align-items:center; overflow-x:hidden; }
.container { width:90%; max-width:900px; background:#ffffffdd; color:#333; border-radius:20px; padding:40px; box-shadow:0 12px 30px rgba(0,0,0,0.4); text-align:center; position:relative; }
h1 { font-size:2.2em; color:#6a11cb; margin-bottom:15px; text-shadow:1px 1px 4px #00000033; }
p { font-size:18px; margin-bottom:20px; }
.code-container { margin:20px 0; background:#f0f0f0; border-radius:15px; box-shadow:0 8px 20px rgba(0,0,0,0.2); padding:15px; }
textarea { width:100%; height:260px; font-family:'Roboto Mono', monospace; font-size:16px; padding:15px; border-radius:12px; border:2px solid #6a11cb; background:#fff; color:#333; resize:none; transition:border 0.3s; }
textarea:focus { border:2px solid #2575fc; outline:none; }
.input-container { margin-top:20px; }
input[type="text"] { width:100%; padding:12px; border-radius:10px; border:2px solid #2575fc; font-size:16px; margin-bottom:15px; }
.submit-btn { padding:14px 30px; font-size:18px; border:none; border-radius:10px; font-weight:bold; cursor:pointer; background:linear-gradient(135deg, #6a11cb, #2575fc); color:#fff; box-shadow:0 6px 15px rgba(0,0,0,0.3); transition: transform 0.2s, box-shadow 0.2s; }
.submit-btn:hover { transform: translateY(-3px); box-shadow:0 10px 20px rgba(0,0,0,0.4); }
.clue, .error { padding:18px; border-radius:12px; font-size:18px; margin-top:20px; display:none; animation:fadeIn 0.8s ease; }
.clue { background-color:#d4edda; color:#155724; border:2px solid #155724; }
.error { background-color:#f8d7da; color:#721c24; border:2px solid #721c24; }
@keyframes fadeIn { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
.confetti { width:8px; height:8px; position:absolute; top:-10px; border-radius:50%; opacity:0.9; pointer-events:none; animation-name:fallConfetti; animation-timing-function:linear; }
@keyframes fallConfetti { 0% {transform: translateY(0) rotate(0deg);} 100% {transform: translateY(400px) rotate(720deg);} }
</style>
</head>
<body>
<div class="container">
    <h1>Cipher Chase - Problem No. 10</h1>
    <p>Edit the C code and type the correct output. Once both are correct, your final clue will appear with confetti!</p>
    
    <div class="code-container">
        <label for="code"><strong>C Code (editable, contains errors):</strong></label><br>
        <textarea id="code">
#include <stdio.h>
int main() {
    int a[2][2] = {{1,2},{3,4}};
    int b[2][2] = {{5,6},{7,8}};
    int c[2][2] = {0};

    for(int i=0;i<2;i++){
        for(int j=0;j<2;j++){
            for(int k=0;k<2;k++){
                c[i][j] = a[i][k]*b[k][j]; 
            }
        }
    }

    printf("Result:\n");
    for(int i=0;i<2;i++){
        for(int j=0;j<2;j++){
            printf("%d ",c[i][j]);
        }
        printf("\n");
    }
    return 0;
}
        </textarea>
    </div>

    <div class="input-container">
        <label for="output"><strong>Expected Output:</strong></label>
        <input type="text" id="output" placeholder="Type output here e.g., Result: 19 22 43 50">
        <button class="submit-btn" onclick="checkAnswer()">Submit</button>
    </div>

    <div class="clue" id="clue">
        ‚úÖ Correct! üéâ Congratulations! <strong>YOU HAVE COMPLETED ALL THE CODES AND FOUND THE FINAL TREASURE!</strong>
    </div>

    <div class="error" id="error">
        ‚ùå Incorrect! Make sure you <em>fix the code</em> and also give the right output.
    </div>
</div>

<script>
function createConfetti(){
    const colors = ["#FF0A54","#FF477E","#FF7096","#FF85A1","#FBB1B7"];
    for(let i=0;i<80;i++){
        const c=document.createElement("div");
        c.classList.add("confetti");
        c.style.left=Math.random()*100 + "%";
        c.style.background=colors[Math.floor(Math.random()*colors.length)];
        c.style.width=(5+Math.random()*8)+"px";
        c.style.height=c.style.width;
        c.style.animationDuration=(2+Math.random()*2)+"s";
        c.style.transform=`rotate(${Math.random()*360}deg)`;
        document.body.appendChild(c);
        setTimeout(()=>{c.remove();},3000);
    }
}

function checkAnswer(){
    const code=document.getElementById('code').value;
    const output=document.getElementById('output').value.trim();

    // ‚úÖ check if participant fixed the bug
    const codeFixed = code.includes("c[i][j] += a[i][k]*b[k][j];");

    // ‚úÖ normalize output
    const outputNormalized = output.replace(/\s+/g,'');
    const correctOutput = "Result:19224350"; // normalized correct

    if(codeFixed && outputNormalized === correctOutput){
        document.getElementById('clue').style.display="block";
        document.getElementById('error').style.display="none";
        createConfetti();
    } else {
        document.getElementById('error').style.display="block";
        document.getElementById('clue').style.display="none";
    }
}
</script>
</body>
</html>
